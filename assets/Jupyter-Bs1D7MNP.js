import{_ as E,u as L,r as c,o as _,n as B,a as M,w as q,b as C,c as $,d as u,e as N,f as j,g as D}from"./index-XY3BN-rn.js";const F={class:"blog"},J=["id"],P={class:"iframe-wrapper"},T=["src"],V="",A={__name:"Jupyter",props:{post_url:{type:String,required:!0}},emits:["update:mainSection","update:navMenuComponent","update:currentSection","update:navItems","update:navMenuLangPage"],setup(g,{emit:y}){const{locale:l}=L(),d=g,o=y,i=c("");function m(e){return r.value.find(n=>n.key===e)?.link||""}let s=null;function w(){s=new IntersectionObserver(e=>{for(const t of e)t.isIntersecting&&(i.value=t.target.id)},{rootMargin:"0px",threshold:.3}),document.querySelectorAll("main section[id]").forEach(e=>{s.observe(e)})}_(async()=>{o("update:mainSection",m("home")),o("update:navItems",r.value),o("update:currentSection",i.value),o("update:navMenuLangPage",V),await B(),w()}),M(()=>{s&&s.disconnect()}),q([()=>l.value,()=>d.post_url,()=>i.value],([e,t,n])=>{p.value=`/notebooks/${e}/${t}`,o("update:currentSection",n)});const b=c(sessionStorage.getItem("theme")||"dark"),p=c(`/notebooks/${l.value}/${d.post_url}`),r=c([]);function k(e){try{const t=e.contentDocument||e.contentWindow?.document;if(!t)return;const n=t.querySelectorAll("h2"),a=[];n.forEach(h=>{const I=h.id,x=h.textContent?.replace("Â¶","").trim()||"untitled";a.push({key:x,link:`#${I}`,faIcon:["fas","house"],disabled:!1,type:"jupyter"})}),r.value=a,o("update:navItems",a)}catch(t){console.error("Failed to extract headings:",t)}}function S(){const e=document.querySelector("iframe"),t=e?.contentDocument||e?.contentWindow?.document,n=r.value[0];if(n&&t){const a=t.getElementById(n.link.replace("#",""));a&&a.scrollIntoView({behavior:"smooth"})}}function f(e){b.value=e.detail.theme}let v=!1;return _(()=>{window.addEventListener("theme-changed",f);const e=document.querySelector("iframe");e.addEventListener("load",()=>{v||(k(e),v=!0)})}),C(()=>{window.removeEventListener("theme-changed",f)}),(e,t)=>{const n=j("font-awesome-icon");return D(),$("main",F,[u("section",{id:m("home").replace("#",""),class:"jupyter-section"},[u("div",P,[u("iframe",{src:p.value,frameborder:"0",sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",title:"Jupyter Notebook"},null,8,T),N(n,{icon:["fas","chevron-up"],class:"chevron up iframe",onClick:S})])],8,J)])}}},U=E(A,[["__scopeId","data-v-dd3b3075"]]);export{U as default};
