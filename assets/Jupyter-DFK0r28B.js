import{_ as E,r as c,o as _,n as L,a as B,w as g,b as M,c as q,d as l,e as C,f as $,g as N}from"./index-BEHrW7W6.js";const j={class:"blog"},D=["id"],F={class:"iframe-wrapper"},J=["src"],P="",T={__name:"Jupyter",props:{post_url:{type:String,required:!0}},emits:["update:mainSection","update:navMenuComponent","update:currentSection","update:navItems","update:navMenuLangPage"],setup(y,{emit:w}){const d=y,o=w,i=c("");function m(e){return r.value.find(n=>n.key===e)?.link||""}let s=null;function k(){s=new IntersectionObserver(e=>{for(const t of e)t.isIntersecting&&(i.value=t.target.id)},{rootMargin:"0px",threshold:.3}),document.querySelectorAll("main section[id]").forEach(e=>{s.observe(e)})}_(async()=>{o("update:mainSection",m("home")),o("update:navItems",r.value),o("update:currentSection",i.value),o("update:navMenuLangPage",P),await L(),k()}),B(()=>{s&&s.disconnect()}),g(i,e=>{o("update:currentSection",e)});const u=c(sessionStorage.getItem("theme")||"dark"),p=c(`/notebooks/${u.value}/${d.post_url}`),r=c([]);function S(e){try{const t=e.contentDocument||e.contentWindow?.document;if(!t)return;const n=t.querySelectorAll("h2"),a=[];n.forEach(h=>{const I=h.id,x=h.textContent?.replace("Â¶","").trim()||"untitled";a.push({key:x,link:`#${I}`,faIcon:["fas","house"],disabled:!1,type:"jupyter"})}),r.value=a,o("update:navItems",a)}catch(t){console.error("Failed to extract headings:",t)}}function b(){const e=document.querySelector("iframe"),t=e?.contentDocument||e?.contentWindow?.document,n=r.value[0];if(n&&t){const a=t.getElementById(n.link.replace("#",""));a&&a.scrollIntoView({behavior:"smooth"})}}function f(e){u.value=e.detail.theme}g(u,e=>{p.value=`/notebooks/${e}/${d.post_url}`});let v=!1;return _(()=>{window.addEventListener("theme-changed",f);const e=document.querySelector("iframe");e.addEventListener("load",()=>{v||(S(e),v=!0)})}),M(()=>{window.removeEventListener("theme-changed",f)}),(e,t)=>{const n=$("font-awesome-icon");return N(),q("main",j,[l("section",{id:m("home").replace("#",""),class:"jupyter-section"},[l("div",F,[l("iframe",{src:p.value,frameborder:"0",sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",title:"Jupyter Notebook"},null,8,J),C(n,{icon:["fas","chevron-up"],class:"chevron up iframe",onClick:b})])],8,D)])}}},A=E(T,[["__scopeId","data-v-1fff72cd"]]);export{A as default};
