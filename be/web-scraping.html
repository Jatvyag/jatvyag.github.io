<!DOCTYPE html>
<html lang="be">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YX34NR0GKC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-YX34NR0GKC');
    </script>

    <meta charset="utf-8">
    <title>JSON вэб-скрапінг даных - Суб'ект даных</title>
    <meta name="description" content="">
    <meta name="author" content="Антон Парфенчык">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <!-- Le styles -->
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap.no-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://jatvyag.github.io/be/theme/local.css" >
    <link rel="stylesheet" href="https://jatvyag.github.io/be/theme/pygments.css" >
    <link rel="stylesheet" href="https://jatvyag.github.io/be/theme/font-awesome.css" >
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap" rel="stylesheet">

</head>

<body>
<header class="blog-header">
  <div class="container">
    <div class="row-fluid">
      <div class="span9">
	<a href="https://jatvyag.github.io/be" class="brand">Суб'ект даных</a>
      </div>
      <div class="span3" id="blog-nav">
	<ul class="nav nav-pills pull-right">
        <li><a href="portfolio.html">Партфоліо</a></li>
            <li><a href="https://jatvyag.github.io/be/pages/reader.html">Чытачу</a></li>
	    <li  class="active" >
	      <a href="https://jatvyag.github.io/be/category/artykuly.html ">Артыкулы</a>

    <!--choose language from dropdown menu-->
    <li>
      <div class="btn-group">
        <a class="btn btn dropdown-toggle" data-toggle="dropdown" href="#"><i class="icon-globe"></i>
Мова          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <a href="https://jatvyag.github.io/">English</a>
          <a href="https://jatvyag.github.io/be/">Беларуская</a>
  
        </ul>
    </li>

    <!--choose language from other than current language variants, disabled-->

    <!--choose language from all variants, disabled-->
    
	</ul>
      </div>
    </div> <!-- End of fluid row-->
  </div>   <!-- End of Container-->
</header>
    
<div class="container">
    <div class="content">
    <div class="row-fluid">

        <div class="span12">
    <div class='article'>
      <div class="row-fluid">
           <div class="content-title span9">
             <h1><span class="caps">JSON</span> вэб-скрапінг&nbsp;даных</h1>
           </div>
      </div>
    <div class="row-fluid">

      <div class="span2">
<p>24 лістапада 2023</p>
<p style="text-align: left;">
Катэгорыя: <a href="https://jatvyag.github.io/be/category/artykuly.html">Артыкулы</a>
</p>
<p>Зменены: 24.11.2023
</p>
<p style="text-align: left;">
 
Меткі:    <ul>
        <li><a href="https://jatvyag.github.io/be/tag/analiz-danykh.html">аналіз даных</a></li>
        <li><a href="https://jatvyag.github.io/be/tag/impart-i-achystka-danykh.html">імпарт і ачыстка даных</a></li>
    </ul>
</p>
<p>
</p>

<p style="text-align: left;">
    <br>
    <p>Тэма: <b>ІР ІС</b></p>
    <p>Частка <b>1</b> з <b>2</b>.
    </p>


        <p>Наступныя артыкулы тэмы:</p>
        <p>
        <ol class="parts">
                    <li >
                    <a href='https://jatvyag.github.io/be/ts-analysis_import_clean.html'>Часовыя шэрагі: імпарт і ачыстка&nbsp;даных</a>
                </li>
        </ol>
        </p>
</p>          <!-- added share post element-->
          <p style="padding: 1px;">&nbsp</p>
          <section style="position:bottom">
            <p id="post-share-links">
Падзяліцца:              <ul>
              <li style="list-style-image:url('theme/images/icons/linkedin.png')"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A//jatvyag.github.io/be/web-scraping.html&title=JSON%20%D0%B2%D1%8D%D0%B1-%D1%81%D0%BA%D1%80%D0%B0%D0%BF%D1%96%D0%BD%D0%B3%C2%A0%D0%B4%D0%B0%D0%BD%D1%8B%D1%85&summary=%D0%92%D1%8D%D0%B1-%D1%81%D0%BA%D1%80%D0%B0%D0%BF%D1%96%D0%BD%D0%B3%20%D0%B4%D0%B0%D0%BD%D1%8B%D1%85%20%D1%83%20%D1%84%D0%B0%D1%80%D0%BC%D0%B0%D1%86%D0%B5%20JSON%20%D0%B4%D0%BB%D1%8F%C2%A0%D0%B0%D0%BD%D0%B0%D0%BB%D1%96%D0%B7%D1%83&source=https%3A//jatvyag.github.io/be/web-scraping.html" title="Share on LinkedIn">LinkedIn</a></li>
              <li style="list-style-image:url('theme/images/icons/twitter.png')"><a href="https://twitter.com/intent/tweet?text=JSON%20%D0%B2%D1%8D%D0%B1-%D1%81%D0%BA%D1%80%D0%B0%D0%BF%D1%96%D0%BD%D0%B3%C2%A0%D0%B4%D0%B0%D0%BD%D1%8B%D1%85&url=https%3A//jatvyag.github.io/be/web-scraping.html&hashtags=analiz-danykh,impart-i-achystka-danykh" title="Share on Twitter">Twitter</a></li>
              <li style="list-style-image:url('theme/images/icons/facebook.png')"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jatvyag.github.io/be/web-scraping.html" title="Share on Facebook">Facebook</a></li>
              <li style="list-style-image:url('theme/images/icons/envelope.png')"><a href="mailto:?subject=JSON%20%D0%B2%D1%8D%D0%B1-%D1%81%D0%BA%D1%80%D0%B0%D0%BF%D1%96%D0%BD%D0%B3%C2%A0%D0%B4%D0%B0%D0%BD%D1%8B%D1%85&amp;body=https%3A//jatvyag.github.io/be/web-scraping.html" title="Share via Email">Email</a></li>
              </ul>
            </p>
          </section>
      </div>

      <div class="span8">
        
<p>Падчас працы над манаграфіяй у 2021 годзе я аналізаваў даныя аб інфармацыйных сістэмах і рэсурсах, якія зарэгістраваныя ў дзяржаўных рэгістрах. З той пары прайшло колькі часу і на старонках гэтага блога я паўтару аналіз, але з выкарыстаннем новых падыходаў і да аналізу і да візуалізацыі вынікаў. </p>
<p>Наш аналіз будзе складацца з серыі артыкулаў і гэты артыкул - першы з іх.</p>
<p>Цяжкасць з якой давялося сутыкнуцца напачатку - гэта тое, што даные прадстаўлены ў зручным выглядзе для вывучэння карыстальнікамі рэгістраў, але не аналітыкамі. У прыватнасці, ёсць магчымасць дадаваць ці прыбіраць калонкі, ажыццяўляць пошук па рэестрам, але няма зручнай магчымасці спампаваць усе запісы. Улічваючы, што запісы размешчаны ў фармаце <em><span class="caps">JSON</span></em>, то звычайныя метады вэб-скрапінгу не падыходзяць, напрыклад, амаль бескарысна бібліятэка <em>Beautiful Soup</em>. </p>
<p>Тым не менш, фармат <em><span class="caps">JSON</span></em> на практыцы нават зручней, бо загружае ўсе запісы ў браўзер. </p>
<p>Тут і надалей мы праводзім аналіз з дапамогай <em>Python</em> у <em>Jupyter Notebook</em>.</p>
<p>Спачатку загружаем неабходныя бібліятэкі.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>
</code></pre></div>
<h1 id="information-systems">Information Systems</h1>
<p>Збіраем інфармацыю з браўзера <em>Chrome</em> каб усталяваць аўтаматычнае злучэнне.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># У браўзеры Chrome хлядзім тут: inspector (network -&gt; Fetch/XHR &gt; Headers and Responce)</span>
<span class="n">endpoint_sys</span> <span class="o">=</span> <span class="s1">'http://xn--c1akxf.xn--90ais/api/systemRegister/list'</span>
<span class="n">header_sys</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'Accept'</span><span class="p">:</span> <span class="s1">'application/json, text/plain, */*'</span><span class="p">,</span>
          <span class="s1">'Accept-Language'</span><span class="p">:</span> <span class="s1">'en-US,en;q=0.9'</span><span class="p">,</span>
          <span class="s1">'Connection'</span><span class="p">:</span> <span class="s1">'keep-alive'</span><span class="p">,</span>
          <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json; charset=UTF-8'</span><span class="p">,</span>
          <span class="s1">'Origin'</span><span class="p">:</span> <span class="s1">'http://xn--c1akxf.xn--90ais'</span><span class="p">,</span>
          <span class="s1">'Referer'</span><span class="p">:</span> <span class="s1">'http://xn--c1akxf.xn--90ais/app/registerIS'</span><span class="p">,</span>
          <span class="s1">'User-Agent'</span><span class="p">:</span> <span class="s1">'Mozilla/5.0 (X11; Linux x86_64)</span><span class="se">\</span>
<span class="s1">          AppleWebKit/537.36 (KHTML, like Gecko)</span><span class="se">\</span>
<span class="s1">          Chrome/114.0.0.0 Safari/537.36'</span><span class="p">}</span>

<span class="c1"># інфармацыю для запыту капіруем як cURL, але нам патрэбна толькі некалькі строк кода</span>
<span class="n">query_sys</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="se">{{</span><span class="s1">"page":1,"rows":-1</span><span class="se">}}</span><span class="s1">'</span> <span class="c1"># таксама звяртаю ўвагу на падвоаенне гэтых "{" дужак</span>
</code></pre></div>
<p>Пераходзім да непасрэднай загрузкі даных.</p>
<div class="highlight"><pre><span></span><code><span class="n">response_sys</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">endpoint_sys</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header_sys</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">query_sys</span><span class="p">)</span>

<span class="c1"># на старонцы адказу мы бачым, што толькі калонка 'rows' утрымлівае даные, таму абмяжоўваем запыт </span>
<span class="n">parsed_sys</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response_sys</span><span class="o">.</span><span class="n">content</span><span class="p">)[</span><span class="s1">'rows'</span><span class="p">]</span>

<span class="c1"># пераўтвараем даныя JSON у DataFrame</span>
<span class="n">inf_sys</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">parsed_sys</span><span class="p">)</span>

<span class="c1"># пералічваем неабходныя для аналізу калонкі</span>
<span class="n">columns_sys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'numberOnRegistration'</span><span class="p">,</span> <span class="s1">'dateOnRegistration'</span><span class="p">,</span> <span class="s1">'dateActyalization'</span><span class="p">,</span>\
               <span class="s1">'dateExclude'</span><span class="p">,</span> <span class="s1">'stateNotstateName'</span><span class="p">,</span> <span class="s1">'fullNameIs'</span><span class="p">,</span> <span class="s1">'shortNameIs'</span><span class="p">,</span>\
               <span class="s1">'appointmentIs'</span><span class="p">,</span> <span class="s1">'functionIs'</span><span class="p">,</span> <span class="s1">'nameViewsIs'</span><span class="p">,</span> <span class="s1">'nameViewsStructures'</span><span class="p">,</span>\
               <span class="s1">'nameSizeIs'</span><span class="p">,</span> <span class="s1">'clientsName'</span><span class="p">,</span> <span class="s1">'operatorsName'</span><span class="p">,</span> <span class="s1">'ownersName'</span><span class="p">,</span>\
               <span class="s1">'developersName'</span><span class="p">,</span> <span class="s1">'proprietorsName'</span><span class="p">]</span>

<span class="c1"># абмяжоўваем DataFrame неабходнымі калонкамі</span>
<span class="n">inf_sys</span> <span class="o">=</span> <span class="n">inf_sys</span><span class="p">[</span><span class="n">columns_sys</span><span class="p">]</span>

<span class="c1"># пераўтвараем фармат даных, якія змяшчаюць даты ў фармат даты і часу</span>
<span class="n">date_sys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'dateOnRegistration'</span><span class="p">,</span> <span class="s1">'dateActyalization'</span><span class="p">,</span> <span class="s1">'dateExclude'</span><span class="p">]</span>
<span class="n">inf_sys</span><span class="p">[</span><span class="n">date_sys</span><span class="p">]</span> <span class="o">=</span> <span class="n">inf_sys</span><span class="p">[</span><span class="n">date_sys</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">'</span><span class="si">%d</span><span class="s1">.%m.%Y'</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">inf_sys</span><span class="o">.</span><span class="n">info</span><span class="p">())</span> <span class="c1"># выводзім на экран інфармацыю пра DataFrame, які атрымаўся</span>
</code></pre></div>
<p>Націснуўшы кнопку ніжэй можна паглядзець выніковы <em>DataFrame</em>.</p>
<details class="collapsible" type="button">
<summary>паказаць інфармацыю</summary>
<div class="highlight"><pre><span></span><code>    <span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="s1">'&gt;</span>
    <span class="n">RangeIndex</span><span class="p">:</span> <span class="mi">435</span> <span class="n">entries</span><span class="p">,</span> <span class="mi">0</span> <span class="n">to</span> <span class="mi">434</span>
    <span class="n">Data</span> <span class="n">columns</span> <span class="p">(</span><span class="n">total</span> <span class="mi">17</span> <span class="n">columns</span><span class="p">):</span>
     <span class="c1">#   Column                Non-Null Count  Dtype         </span>
    <span class="o">---</span>  <span class="o">------</span>                <span class="o">--------------</span>  <span class="o">-----</span>         
     <span class="mi">0</span>   <span class="n">numberOnRegistration</span>  <span class="mi">435</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">1</span>   <span class="n">dateOnRegistration</span>    <span class="mi">435</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
     <span class="mi">2</span>   <span class="n">dateActyalization</span>     <span class="mi">111</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
     <span class="mi">3</span>   <span class="n">dateExclude</span>           <span class="mi">38</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>     <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
     <span class="mi">4</span>   <span class="n">stateNotstateName</span>     <span class="mi">435</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">5</span>   <span class="n">fullNameIs</span>            <span class="mi">435</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">6</span>   <span class="n">shortNameIs</span>           <span class="mi">435</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">7</span>   <span class="n">appointmentIs</span>         <span class="mi">435</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">8</span>   <span class="n">functionIs</span>            <span class="mi">435</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">9</span>   <span class="n">nameViewsIs</span>           <span class="mi">433</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">10</span>  <span class="n">nameViewsStructures</span>   <span class="mi">434</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">11</span>  <span class="n">nameSizeIs</span>            <span class="mi">433</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">12</span>  <span class="n">clientsName</span>           <span class="mi">417</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">13</span>  <span class="n">operatorsName</span>         <span class="mi">356</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">14</span>  <span class="n">ownersName</span>            <span class="mi">434</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">15</span>  <span class="n">developersName</span>        <span class="mi">434</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
     <span class="mi">16</span>  <span class="n">proprietorsName</span>       <span class="mi">435</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
    <span class="n">dtypes</span><span class="p">:</span> <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">](</span><span class="mi">3</span><span class="p">),</span> <span class="nb">object</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">memory</span> <span class="n">usage</span><span class="p">:</span> <span class="mf">57.9</span><span class="o">+</span> <span class="n">KB</span>
    <span class="kc">None</span>
</code></pre></div>
</details>
<p>Захоўваем атрыманы DataFrame у файл, каб не пампаваць яго наноў. </p>
<div class="highlight"><pre><span></span><code><span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">'data'</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">inf_sys</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'data/inf_sys.csv'</span><span class="p">)</span> 
</code></pre></div>
<p>У наступных пастах мы будзем пачынаць аналіз менавіта з загрузкі гэтага файла.
<br/></p>
<h1 id="information-resources">Information Resources</h1>
<p>У Беларусі, згодна з заканадаўствам, рэгістрацыі падлягаюць і інфармацыйныя сістэмы і рэсурсы. Таму каб іх прааналізаваць, трэба паўтарыць зробленыя вышэй аперацыі. Змяняем толькі вэб-адрас.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># repeat previous steps</span>
<span class="n">endpoint_res</span> <span class="o">=</span> <span class="s1">'http://xn--c1akxf.xn--90ais/api/resourceRegister/list'</span>
<span class="n">header_res</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'Accept'</span><span class="p">:</span> <span class="s1">'application/json, text/plain, */*'</span><span class="p">,</span>
          <span class="s1">'Accept-Language'</span><span class="p">:</span> <span class="s1">'en-US,en;q=0.9'</span><span class="p">,</span>
          <span class="s1">'Connection'</span><span class="p">:</span> <span class="s1">'keep-alive'</span><span class="p">,</span>
          <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json; charset=UTF-8'</span><span class="p">,</span>
          <span class="s1">'Origin'</span><span class="p">:</span> <span class="s1">'http://xn--c1akxf.xn--90ais'</span><span class="p">,</span>
          <span class="s1">'Referer'</span><span class="p">:</span> <span class="s1">'http://xn--c1akxf.xn--90ais/app/registerIR'</span><span class="p">,</span>
          <span class="s1">'User-Agent'</span><span class="p">:</span> <span class="s1">'Mozilla/5.0 (X11; Linux x86_64)</span><span class="se">\</span>
<span class="s1">          AppleWebKit/537.36 (KHTML, like Gecko)</span><span class="se">\</span>
<span class="s1">          Chrome/114.0.0.0 Safari/537.36'</span><span class="p">}</span>
<span class="n">query_res</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="se">{{</span><span class="s1">"page":1,"rows":-1</span><span class="se">}}</span><span class="s1">'</span>
</code></pre></div>
<p>Інфармацыйных сістэм зарэгістравана некалькі сотняў, а вось рэсурсаў - больш за 35 тысяч, таму вэб-скрапінг можа заняць некалькі хвілін. Аб’ём даных складае больш за гігабайт.</p>
<div class="highlight"><pre><span></span><code><span class="n">response_res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">endpoint_res</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header_res</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">query_res</span><span class="p">)</span>
<span class="n">parsed_res</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response_res</span><span class="o">.</span><span class="n">content</span><span class="p">)[</span><span class="s1">'rows'</span><span class="p">]</span>
<span class="n">inf_res</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">parsed_res</span><span class="p">)</span>
<span class="n">columns_res</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'numberOnRegistration'</span><span class="p">,</span> <span class="s1">'dateOnRegistration'</span><span class="p">,</span> <span class="s1">'dateActualization'</span><span class="p">,</span>\
               <span class="s1">'dateExclude'</span><span class="p">,</span> <span class="s1">'fullNameSource'</span><span class="p">,</span> <span class="s1">'shortNameSource'</span><span class="p">,</span> <span class="s1">'dbDepart'</span><span class="p">,</span> <span class="s1">'rtypeName'</span><span class="p">,</span>\
               <span class="s1">'themesName'</span><span class="p">,</span> <span class="s1">'rubricName'</span><span class="p">,</span> <span class="s1">'content'</span><span class="p">,</span> <span class="s1">'dbSizeMb'</span><span class="p">,</span> <span class="s1">'dbSizeRec'</span><span class="p">,</span> <span class="s1">'dbLang'</span><span class="p">,</span>\
               <span class="s1">'dbCreate'</span><span class="p">,</span> <span class="s1">'dbRetroBeg'</span><span class="p">,</span> <span class="s1">'dbRetroEnd'</span><span class="p">,</span> <span class="s1">'datasource'</span><span class="p">,</span> <span class="s1">'niokrFlag'</span><span class="p">,</span> <span class="s1">'niokrName'</span><span class="p">,</span>\
               <span class="s1">'bePart'</span><span class="p">,</span> <span class="s1">'relationFlag'</span><span class="p">,</span> <span class="s1">'relation'</span><span class="p">,</span> <span class="s1">'programmShell'</span><span class="p">,</span> <span class="s1">'safetyRequirements'</span><span class="p">,</span>\
               <span class="s1">'dtiBaseInfo'</span><span class="p">,</span> <span class="s1">'rstatus'</span><span class="p">,</span> <span class="s1">'dataChangeRstatus'</span><span class="p">,</span> <span class="s1">'dbDelivery'</span><span class="p">,</span> <span class="s1">'ownerName'</span><span class="p">,</span>\
               <span class="s1">'developersName'</span><span class="p">,</span> <span class="s1">'placesName'</span><span class="p">,</span> <span class="s1">'urlsName'</span><span class="p">,</span> <span class="s1">'serviceName'</span><span class="p">,</span> <span class="s1">'securitiesName'</span><span class="p">,</span>\
               <span class="s1">'informationObjectsInfo'</span><span class="p">]</span>
<span class="n">inf_res</span> <span class="o">=</span> <span class="n">inf_res</span><span class="p">[</span><span class="n">columns_res</span><span class="p">]</span>
<span class="n">date_res</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'dateOnRegistration'</span><span class="p">,</span> <span class="s1">'dateActualization'</span><span class="p">,</span> <span class="s1">'dateExclude'</span><span class="p">,</span> <span class="s1">'dtiBaseInfo'</span><span class="p">,</span>\
            <span class="s1">'dataChangeRstatus'</span><span class="p">]</span>
<span class="n">inf_res</span><span class="p">[</span><span class="n">date_res</span><span class="p">]</span> <span class="o">=</span> <span class="n">inf_res</span><span class="p">[</span><span class="n">date_res</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">'</span><span class="si">%d</span><span class="s1">.%m.%Y'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">inf_res</span><span class="o">.</span><span class="n">info</span><span class="p">())</span> <span class="c1"># выводзім на экран інфармацыю пра DataFrame, які атрымаўся</span>
</code></pre></div>
<p>Падрабязную інфармацыю пра <em>DataFrame</em> можна паглядзець ніжэй.</p>
<details class="collapsible" type="button">
<summary>паказаць інфармацыю</summary>
<div class="highlight"><pre><span></span><code>    <span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="s1">'&gt;</span>
    <span class="n">RangeIndex</span><span class="p">:</span> <span class="mi">36442</span> <span class="n">entries</span><span class="p">,</span> <span class="mi">0</span> <span class="n">to</span> <span class="mi">36441</span>
    <span class="n">Data</span> <span class="n">columns</span> <span class="p">(</span><span class="n">total</span> <span class="mi">36</span> <span class="n">columns</span><span class="p">):</span>
     <span class="c1">#   Column                  Non-Null Count  Dtype         </span>
    <span class="o">---</span>  <span class="o">------</span>                  <span class="o">--------------</span>  <span class="o">-----</span>         
     <span class="mi">0</span>   <span class="n">numberOnRegistration</span>    <span class="mi">36442</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">1</span>   <span class="n">dateOnRegistration</span>      <span class="mi">36442</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
     <span class="mi">2</span>   <span class="n">dateActualization</span>       <span class="mi">5975</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>   <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
     <span class="mi">3</span>   <span class="n">dateExclude</span>             <span class="mi">2534</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>   <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
     <span class="mi">4</span>   <span class="n">fullNameSource</span>          <span class="mi">36442</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">5</span>   <span class="n">shortNameSource</span>         <span class="mi">36442</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">6</span>   <span class="n">dbDepart</span>                <span class="mi">33664</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">7</span>   <span class="n">rtypeName</span>               <span class="mi">36442</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">8</span>   <span class="n">themesName</span>              <span class="mi">36442</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">9</span>   <span class="n">rubricName</span>              <span class="mi">36442</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">10</span>  <span class="n">content</span>                 <span class="mi">36436</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">11</span>  <span class="n">dbSizeMb</span>                <span class="mi">36183</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">12</span>  <span class="n">dbSizeRec</span>               <span class="mi">1656</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>   <span class="nb">object</span>        
     <span class="mi">13</span>  <span class="n">dbLang</span>                  <span class="mi">36396</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">14</span>  <span class="n">dbCreate</span>                <span class="mi">36420</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">15</span>  <span class="n">dbRetroBeg</span>              <span class="mi">33881</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">16</span>  <span class="n">dbRetroEnd</span>              <span class="mi">16794</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">17</span>  <span class="n">datasource</span>              <span class="mi">29602</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">18</span>  <span class="n">niokrFlag</span>               <span class="mi">35994</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="n">float64</span>       
     <span class="mi">19</span>  <span class="n">niokrName</span>               <span class="mi">1046</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>   <span class="nb">object</span>        
     <span class="mi">20</span>  <span class="n">bePart</span>                  <span class="mi">1356</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>   <span class="nb">object</span>        
     <span class="mi">21</span>  <span class="n">relationFlag</span>            <span class="mi">35936</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="n">float64</span>       
     <span class="mi">22</span>  <span class="n">relation</span>                <span class="mi">1824</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>   <span class="nb">object</span>        
     <span class="mi">23</span>  <span class="n">programmShell</span>           <span class="mi">36286</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">24</span>  <span class="n">safetyRequirements</span>      <span class="mi">16775</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">25</span>  <span class="n">dtiBaseInfo</span>             <span class="mi">36382</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
     <span class="mi">26</span>  <span class="n">rstatus</span>                 <span class="mi">36442</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">27</span>  <span class="n">dataChangeRstatus</span>       <span class="mi">36442</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
     <span class="mi">28</span>  <span class="n">dbDelivery</span>              <span class="mi">16688</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">29</span>  <span class="n">ownerName</span>               <span class="mi">36440</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">30</span>  <span class="n">developersName</span>          <span class="mi">35898</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">31</span>  <span class="n">placesName</span>              <span class="mi">32446</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">32</span>  <span class="n">urlsName</span>                <span class="mi">12592</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">33</span>  <span class="n">serviceName</span>             <span class="mi">32427</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>  <span class="nb">object</span>        
     <span class="mi">34</span>  <span class="n">securitiesName</span>          <span class="mi">5274</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>   <span class="nb">object</span>        
     <span class="mi">35</span>  <span class="n">informationObjectsInfo</span>  <span class="mi">839</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>    <span class="nb">object</span>        
    <span class="n">dtypes</span><span class="p">:</span> <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">](</span><span class="mi">5</span><span class="p">),</span> <span class="n">float64</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="nb">object</span><span class="p">(</span><span class="mi">29</span><span class="p">)</span>
    <span class="n">memory</span> <span class="n">usage</span><span class="p">:</span> <span class="mf">10.0</span><span class="o">+</span> <span class="n">MB</span>
    <span class="kc">None</span>
</code></pre></div>
</details>
<p>Захоўваем атрыманы DataFrame у файл. </p>
<div class="highlight"><pre><span></span><code><span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">'data'</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">inf_res</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'data/inf_res.csv'</span><span class="p">)</span> 
</code></pre></div>
<p>Памер файла атрымаўся 82,8 мегабайта, значна меней, чым у арыгінале. Такая розніца тлумачыцца тым, што шмат звестак, не патрэбных для аналізу, не захоўваецца. Напрыклад інфармацыя аб імёнах і кантактах працаўнікоў арганізацый, якія гэтыя звесткі ў рэгістр унеслі.</p>
<p>Такім чынам, мы спампавалі для аналізу звесткі, якія знаходзяцца ў вольным доступе, аб зарэгістраваных інфармацыйных сістэмах і рэсурсах. Больш за тое, мы правялі папярэднюю ачыстку даных ад звестак, якія нам не патрэбны і змянілі фармат даных для дат. У наступным артыкуле мы працягнем больш грунтоўна праводзіць ачыстку даных і паглядзім на найбольш перспектыўныя звесткі.</p>
        <hr/>
      </div>

      <div class="span2">
          <nav class="toc">
            <b>Змест:</b>
          <div class="toc">
<ul>
<li><a href="#information-systems">Information Systems</a></li>
<li><a href="#information-resources">Information Resources</a></li>
</ul>
</div>
          </nav>
      </div>  

    </div>
    <!--
    <div class="span10">
      <h3>Comments</h3>
    
    </div>
    -->
    </div>
        </div>
        
        
    </div>     </div> </div>

<!--footer-->
<div class="container">
  <div class="well" style="background-color: #E9EFF6">
    <div id="blog-footer">
      <div class="row-fluid">
	<div class="social span2" align="center" id="socialist">
	  <ul class="nav nav-list">
	    <li class="nav-header">
Кантакты	    </li>
	    <li><a href="https://github.com/Jatvyag"><i class="icon-github" style="color: #1f334b"></i>github</a></li>
	    <li><a href="https://www.linkedin.com/in/parfenchyk"><i class="icon-linkedin" style="color: #1f334b"></i>linkedin</a></li>
            <a href="mailto:jatvyag@proton.me"><i class="icon-envelope" style="color: #1f334b" ></i> email</a>

	  </ul>
	</div>
<div class="span8" id="colophon">
  <h2 align="center">Пра блог</h2>
  <p align="justify"> Гэта асабісты блог, які адлюстроўвае мае інтарэсы ў навуцы аб даных, прыняцці рашэнняў на аснове даных, юрыдычных інфармацыйных тэхналогіях і абароне персанальных даных. </p>
</div>
	<div class="site-nav span2" align="center">
          <ul class="nav nav-list" id="site-links">
            <li class="nav-header"> 
Сайт            </li>
            <li><a href="https://jatvyag.github.io/be"><i class="icon-home" style="color: #1f334b">
                </i>Галоўная</a></li>
            <li><a href="https://jatvyag.github.io/be/archives.html"><i class="icon-list" style="color: #1f334b">
                </i>Архіў</a></li>
	          <li><a href="https://jatvyag.github.io/be/tags.html"><i class="icon-tags" style="color: #1f334b">
                </i>Меткі</a></li>
	    
	  </ul>

        </div>

      </div> <!--end of fluid row-->
    </div> <!--end of blog-footer-->
    <hr />
    <p align="center"><a href="https://jatvyag.github.io/be">Суб'ект даных</a>
      &copy; Антон Парфенчык, 2023.</p>
    <p align="center">Працуе на <a href="https://github.com/getpelican/pelican">Pelican <i class="icon-share-alt"></i></a> і      <a href="https://getbootstrap.com/2.1.1">Twitter Bootstrap <i class="icon-share-alt"></i></a>. 
Іконкі <a href="https://fontawesome.com/icons">Font Awesome <i class="icon-share-alt"></i>.</a></p>

  </div> <!--end of well -->
</div> <!--end of container -->

<!--/footer-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>



</body>
</html>